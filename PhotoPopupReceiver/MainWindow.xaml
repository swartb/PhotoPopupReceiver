<Window x:Class="PhotoPopupReceiver.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:PhotoPopupReceiver"
        mc:Ignorable="d"
        Title="MainWindow" Height="450" Width="800" Icon="6d8fd7e3-a1df-4e03-96d2-f2c919887df7.ico">
    <!-- Root grid with uniform padding so no content touches the window edges. -->
    <Grid Margin="20">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>

            <!-- Header row: application title on the left, language switcher on the right. -->
            <DockPanel Grid.Row="0" Margin="0,0,0,16">
                <!-- Language selector docked to the right so the title can take remaining space. -->
                <StackPanel DockPanel.Dock="Right" Orientation="Horizontal" VerticalAlignment="Center">
                    <TextBlock x:Name="LanguageLabelText"
                               VerticalAlignment="Center"
                               Margin="0,0,8,0"/>
                    <!-- ComboBox items are populated in code-behind so they can be localised. -->
                    <ComboBox x:Name="LanguageComboBox"
                              Width="140"
                              SelectionChanged="LanguageComboBox_SelectionChanged"/>
                </StackPanel>

                <!-- Application title displayed at the top of the window. -->
                <TextBlock x:Name="AppTitleText"
                           FontSize="22"
                           FontWeight="Bold"
                           VerticalAlignment="Center"/>
            </DockPanel>

            <GroupBox x:Name="EndpointGroupBox" Grid.Row="1" Margin="0,0,0,12" Header="Endpoint">
                <Grid Margin="12">
                    <TextBox x:Name="UrlText"
                             IsReadOnly="True"
                             TextWrapping="Wrap"
                             AcceptsReturn="True"
                             VerticalScrollBarVisibility="Auto"
                             HorizontalScrollBarVisibility="Auto"
                             BorderThickness="1"
                             Padding="8"
                             Background="#FFF6F6F6"
                             Foreground="#FF333333"
                             FontFamily="Consolas"
                             FontSize="12"
                             MinHeight="90" />
                </Grid>
            </GroupBox>

            <GroupBox x:Name="OptionsGroupBox" Grid.Row="2" Margin="0,0,0,12" Header="Options">
                <StackPanel Margin="12">
                    <!-- Checkbox that enables or disables automatic clipboard copying on photo receipt.
                         Both Checked and Unchecked route to the same handler so the setting is always
                         kept in sync with the UI state. -->
                    <CheckBox x:Name="AutoCopyCheckBox"
                              IsChecked="False"
                              Checked="AutoCopyChanged"
                              Unchecked="AutoCopyChanged" />
                </StackPanel>
            </GroupBox>

            <GroupBox x:Name="SecurityGroupBox" Grid.Row="3" Header="Security">
                <Grid Margin="12">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <CheckBox x:Name="RequirePasswordCheckBox"
                              Grid.Row="0"
                              Grid.ColumnSpan="2"
                              Content="Require password"
                              IsChecked="True"
                              Margin="0,0,0,10"
                              Checked="RequirePasswordChanged"
                              Unchecked="RequirePasswordChanged" />

                    <TextBlock x:Name="PasswordLabelText"
                               Grid.Row="1"
                               Grid.Column="0"
                               VerticalAlignment="Center"
                               Margin="0,0,10,0"
                               Text="Password:" />

                    <Grid Grid.Row="1" Grid.Column="1">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <PasswordBox x:Name="PasswordBox"
                                     Grid.Column="0"
                                     PasswordChanged="PasswordChanged" />

                        <TextBox x:Name="PasswordTextBox"
                                 Grid.Column="0"
                                 Visibility="Collapsed"
                                 TextChanged="PasswordTextChanged" />

                        <ToggleButton x:Name="ShowPasswordToggle"
                                      Grid.Column="1"
                                      Margin="8,0,0,0"
                                      Width="32"
                                      Height="24"
                                      VerticalAlignment="Center"
                                      FontFamily="Segoe MDL2 Assets"
                                      FontSize="14"
                                      Content="&#xE890;"
                                      Checked="ShowPasswordToggle_Checked"
                                      Unchecked="ShowPasswordToggle_Unchecked" />
                    </Grid>

                    <TextBlock x:Name="PasswordErrorText"
                               Grid.Row="2"
                               Grid.ColumnSpan="2"
                               Foreground="Tomato"
                               Visibility="Collapsed"
                               Text="Password is required."
                               Margin="0,8,0,0" />
                </Grid>
            </GroupBox>
        </Grid>
    </Grid>
</Window>
